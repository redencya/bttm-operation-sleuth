[gd_resource type="Resource" load_steps=7 format=2]

[ext_resource path="res://core/EventDisplayText.gd" type="Script" id=1]

[sub_resource type="Resource" id=50]
script = ExtResource( 1 )
flags = 3
transitions = 1
text = "This is your mother's LIVE, LAUGH, LOVE poster. No maternal decor scheme would be complete without one."

[sub_resource type="Resource" id=51]
script = ExtResource( 1 )
flags = 7
transitions = 2
text = "Every time you try to hide this poster, your mother finds it and hangs it back up. You're beginning to suspect she has more than one."

[sub_resource type="Resource" id=52]
script = ExtResource( 1 )
flags = 1
transitions = 1
text = "Aeugh. You can't stand this LACKADAISCAL display piece. Someone ought to take it down. That someone ought to be you."

[sub_resource type="Resource" id=53]
script = ExtResource( 1 )
flags = 1
transitions = 2
text = "You attempt taking off the POSTER, however you're unable to reach the top of the frame.

You win this round, poster."

[sub_resource type="GDScript" id=44]
script/source = "extends Resource
class_name EventSheet

signal act_complete
signal auth_complete

enum EventTypes { 
	SET_STATE, 
	SET_COLLIDE, 
	SET_ITEM,
	DISPLAY_TEXT, 
	DISPLAY_ANIMATION,
	}

const ONE_SHOT = Event.EventFlags.ONE_SHOT
const CHAIN_BREAK = Event.EventFlags.CHAIN_BREAK
const AWAIT_INPUT = Event.EventFlags.AWAIT_INPUT

export (EventTypes) var new_event_type
export (bool) var add_new_event
export (Array, Resource) var events

func play_events():
	var i = 0
	while i < events.size():
		var flags = events[i].flags 
		events[i].exec()
		if flags & AWAIT_INPUT:
			yield(InterfaceManager, \"input_given\")

		if ((flags & CHAIN_BREAK ) >> 1 ) & (flags & ONE_SHOT):
			print(\"CBOS \", flags)
			events.remove(i)
			i -= 1
			break
		if flags & CHAIN_BREAK:
			print(\"CB\")
			break
		if flags & ONE_SHOT:
			print(\"OS\")
			events.remove(i)
			i -= 1
		i += 1
"

[resource]
script = SubResource( 44 )
new_event_type = 3
add_new_event = false
events = [ SubResource( 50 ), SubResource( 51 ), SubResource( 52 ), SubResource( 53 ) ]
